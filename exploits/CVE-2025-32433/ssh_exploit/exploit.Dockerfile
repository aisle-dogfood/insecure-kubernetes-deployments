FROM python:3.9-slim

# Install required packages
RUN pip install kubernetes requests

# Create directory for captured data
RUN mkdir -p /app/captured_data

# Copy exploit files
COPY CVE-2025-32433.py /app/
COPY listener.py /app/
WORKDIR /app

# Make scripts executable
RUN chmod +x /app/CVE-2025-32433.py /app/listener.py

# Default command - this will be overridden by the args in the deployment YAML
CMD ["bash", "-c", "python listener.py & python CVE-2025-32433.py"] 